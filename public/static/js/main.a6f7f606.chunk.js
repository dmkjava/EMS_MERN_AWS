(this["webpackJsonpReactjs-Nodejs-Mysql"]=this["webpackJsonpReactjs-Nodejs-Mysql"]||[]).push([[0],{113:function(e,t,a){},115:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(26),o=a.n(r),c=a(9),s=a(10),i=a(12),m=a(11),u=a(33),d=a(6),h=a(20),p=a.n(h),b=a(14),E=a(117),y=a(118),g=a(47),v=a.n(g),f=a(121),j=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={modal:!1},n.delete=n.delete.bind(Object(b.a)(n)),n}return Object(s.a)(a,[{key:"delete",value:function(){var e=this;console.log(this.props.id);var t={id:this.props.id};console.log(t),p()({url:"/ems/delete",method:"delete",data:{id:this.props.id}}).then((function(t){console.log(t),e.props.toggle(),e.props.onRecordDelete(e.props.id)}))}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(f.a,{show:this.props.modal,onHide:this.props.toggle,className:this.props.className,backdrop:"static",keyboard:!1},l.a.createElement(f.a.Header,{closeButton:!0},l.a.createElement(f.a.Title,null,"Delete")),l.a.createElement(f.a.Body,null,"Are you sure to delete it? ",this.props.id),l.a.createElement(f.a.Footer,null,l.a.createElement(E.a,{variant:"danger",onClick:this.delete},"Delete Me!")," ",l.a.createElement(E.a,{color:"secondary",onClick:this.props.toggle},"Cancel"))))}}]),a}(l.a.Component),O=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).editEmployee=function(e){console.log("editEmployee",e),n.props.history.push("/edit/".concat(e))},n.state={modal:!1,id:""},n.toggle=n.toggle.bind(Object(b.a)(n)),n}return Object(s.a)(a,[{key:"toggle",value:function(e){this.setState({modal:!this.state.modal})}},{key:"render",value:function(){var e=this,t=this.props.list.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,a+1),l.a.createElement("td",null,t.employee_name),l.a.createElement("td",null,t.job),l.a.createElement("td",null,t.salary),l.a.createElement("td",{className:"align-content-center"},l.a.createElement(E.a,{variant:"success",size:"sm",onClick:function(){return e.editEmployee(t.id)}},l.a.createElement(v.a,{name:"edit"})),"  ",l.a.createElement(E.a,{variant:"danger",size:"sm",key:t.id,onClick:function(){return e.setState({id:t.id},e.toggle)}},l.a.createElement(v.a,{name:"trash"}))))}));return l.a.createElement("div",null,l.a.createElement(j,{modal:this.state.modal,toggle:this.toggle,id:this.state.id,onRecordDelete:this.props.onRecordDelete}),l.a.createElement(y.a,{hover:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Job"),l.a.createElement("th",null,"Salary"),l.a.createElement("th",null,"Action"))),l.a.createElement("tbody",null,t)))}}]),a}(l.a.Component),C=Object(d.o)(O),k=a(119),S=a(120),N=a(70),H=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onRecordDelete=function(e){n.setState({data:n.state.data.filter((function(t){return t.id!==e}))})},n.state={data:[]},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.a.get("/ems/").then((function(t){delete e.state.data,e.setState({data:t.data.data})}))}},{key:"render",value:function(){return l.a.createElement(k.a,null,l.a.createElement(S.a,null,l.a.createElement(N.a,{sm:"12",md:{size:8,offset:2}},l.a.createElement(C,{list:this.state.data,onRecordDelete:this.onRecordDelete}))))}}]),a}(n.Component),D=a(42),I=a(122),x=a(71),R=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement(I.a,{onSubmit:this.props.handleSubmit},l.a.createElement(x.a,{as:N.a},l.a.createElement(N.a,{sm:1},l.a.createElement(I.a.Label,{htmlFor:"name",sm:2},"Name")),l.a.createElement(N.a,{sm:4},l.a.createElement(I.a.Control,{name:"employee_name",type:"text",placeholder:"Name",value:this.props.Name,onChange:this.props.InputChangeHandler,style:{borderWidth:"3px",borderStyle:"solid",borderColor:"#78adc8",borderRadius:"8px",height:"60px"}}))),l.a.createElement(x.a,{as:S.a},l.a.createElement(N.a,{sm:1},l.a.createElement(I.a.Label,{htmlFor:"job"},"Job")),l.a.createElement(N.a,{sm:10},l.a.createElement(I.a.Control,{type:"text",name:"job",placeholder:"Job",value:this.props.Job,onChange:this.props.InputChangeHandler}))),l.a.createElement(x.a,{as:S.a},l.a.createElement(N.a,{sm:1},l.a.createElement(I.a.Label,{htmlFor:"salary",sm:2},"Salary")),l.a.createElement(N.a,{sm:10},l.a.createElement(I.a.Control,{type:"text",name:"salary",placeholder:"Salary",value:this.props.Salary,onChange:this.props.InputChangeHandler}))),l.a.createElement(x.a,{as:S.a},l.a.createElement(N.a,{sm:{size:10,offset:2}},l.a.createElement(E.a,{type:"submit"},"Submit"))))}}]),a}(l.a.Component),J=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={employee_name:"",job:"",salary:"",redirect:!1},n.handleSubmit=n.handleSubmit.bind(Object(b.a)(n)),n.InputChangeHandler=n.InputChangeHandler.bind(Object(b.a)(n)),n}return Object(s.a)(a,[{key:"InputChangeHandler",value:function(e){var t=e.target.value,a=e.target.name;this.setState(Object(D.a)({},a,t))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=this.state;delete a.redirect,p.a.post("/ems/add",a).then((function(e){console.log(e),t.setState({redirect:!0}),t.props.history.push("/")}))}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(k.a,null,l.a.createElement(S.a,null,l.a.createElement(N.a,{sm:"12",md:{size:8,offset:2}},l.a.createElement("h4",null,"New Employee Details"),l.a.createElement(R,{Name:this.state.employee_name,Job:this.state.job,Salary:this.state.salary,InputChangeHandler:this.InputChangeHandler,handleSubmit:this.handleSubmit})))))}}]),a}(l.a.Component),_=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={employee_name:"",job:"",salary:"",id:n.props.match.params.id},n.handleSubmit=n.handleSubmit.bind(Object(b.a)(n)),n.InputChangeHandler=n.InputChangeHandler.bind(Object(b.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log("from componentDidMount"),p.a.get("/ems/id/".concat(this.state.id)).then((function(t){var a=t.data.data;e.setState({employee_name:a.employee_name,job:a.job,salary:a.salary})}))}},{key:"InputChangeHandler",value:function(e){var t=e.target.value,a=e.target.name;this.setState(Object(D.a)({},a,t))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=this.state;console.log(a),p.a.put("/ems/edit",a).then((function(e){console.log(e),t.setState({redirect:!0}),t.props.history.push("/")}))}},{key:"render",value:function(){return l.a.createElement(k.a,null,l.a.createElement(S.a,null,l.a.createElement(N.a,{sm:"12",md:{size:8,offset:2}},l.a.createElement("h4",null,"Edit Employee"),l.a.createElement(R,{Name:this.state.employee_name,Job:this.state.job,Salary:this.state.salary,InputChangeHandler:this.InputChangeHandler,handleSubmit:this.handleSubmit}))))}}]),a}(l.a.Component),L=a(51),M=a(124),w=a(72),z=a(123),B=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={isOpen:!1},n.toggle=n.toggle.bind(Object(b.a)(n)),n}return Object(s.a)(a,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return l.a.createElement(M.a,{className:"header",expand:"md",variant:"dark"},l.a.createElement(k.a,null,l.a.createElement(M.a.Brand,{className:"custom-brand"},"EmployeeManagementSystem"),l.a.createElement(M.a.Toggle,{onClick:this.toggle}),l.a.createElement(w.a,null,l.a.createElement(z.a,{className:"ml-auto nav",variant:"pills"},l.a.createElement(L.LinkContainer,{exact:!0,to:"/"},l.a.createElement(z.a.Link,{className:"custom-nav-item"},"Home")),l.a.createElement(L.LinkContainer,{to:"/add"},l.a.createElement(z.a.Link,{className:"custom-nav-item"},"NewEmployee"))))))}}]),a}(n.Component),F=(a(113),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement(u.BrowserRouter,null,l.a.createElement(B,null),l.a.createElement(d.g,null,l.a.createElement(d.d,{exact:!0,path:"/",component:H}),l.a.createElement(d.d,{exact:!0,path:"/add",component:J}),l.a.createElement(d.d,{exact:!0,path:"/edit/:id",component:_})))}}]),a}(n.Component));a(114);o.a.render(l.a.createElement(F,null),document.getElementById("root"))},75:function(e,t,a){e.exports=a(115)}},[[75,1,2]]]);
//# sourceMappingURL=main.a6f7f606.chunk.js.map